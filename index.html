<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>khiem@arch: ~</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700;800&display=swap" rel="stylesheet">

    <style>
        /* --- 1. THEME DEFINITION (TOKYO NIGHT / NORD VIBE) --- */
        :root {
            --bg-color: #1a1b26;
            --window-bg: rgba(26, 27, 38, 0.85); /* Màu tối trong suốt */
            --bar-bg: rgba(26, 27, 38, 0.95);
            
            /* Color Palette cho Terminal */
            --c-red: #f7768e;
            --c-green: #9ece6a;
            --c-yellow: #e0af68;
            --c-blue: #7aa2f7;
            --c-magenta: #bb9af7;
            --c-cyan: #7dcfff;
            --c-white: #a9b1d6;
            --c-gray: #565f89;
            
            --text: #c0caf5;
            --border: rgba(122, 162, 247, 0.2); /* Viền xanh nhẹ */
            --radius: 10px;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background-color: var(--bg-color);
            /* HÌNH NỀN MẶC ĐỊNH */
            background-image: url('bg1.jpg'); 
            background-size: cover; background-position: center;
            font-family: 'JetBrains Mono', monospace;
            color: var(--text);
            height: 100vh;
            overflow: hidden;
            padding: 15px;
            display: flex; flex-direction: column; gap: 15px;
            transition: background-image 0.5s ease-in-out; /* Hiệu ứng chuyển cảnh mượt */
        }

        /* --- 2. TOP BAR (PLAYER CENTER) --- */
        .top-bar {
            height: 40px; flex-shrink: 0;
            background: var(--bar-bg);
            border-bottom: 1px solid var(--border);
            border-radius: var(--radius);
            display: grid; grid-template-columns: 1fr auto 1fr;
            align-items: center; padding: 0 15px;
            backdrop-filter: blur(10px);
            z-index: 10;
        }

        .bar-left { display: flex; gap: 8px; align-items: center; }
        .ws-dot { width: 8px; height: 8px; border-radius: 50%; background: var(--c-gray); transition: 0.3s; cursor: pointer; }
        .ws-dot.active { background: var(--c-blue); width: 20px; border-radius: 4px; }

        /* Music Player ở giữa */
        .bar-center {
            display: flex; align-items: center; gap: 15px;
            font-size: 13px; font-weight: bold;
        }
        .music-title { color: var(--c-cyan); max-width: 200px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .music-ctrls { display: flex; gap: 10px; }
        .m-btn { background: none; border: none; color: var(--text); cursor: pointer; font-size: 12px; transition: 0.2s; }
        .m-btn:hover { color: var(--c-magenta); }

        .bar-right { display: flex; justify-content: flex-end; align-items: center; gap: 15px; font-size: 12px; }
        .clock { color: var(--c-yellow); font-weight: bold; }

        /* --- 3. MAIN GRID --- */
        .main-grid {
            flex-grow: 1; 
            display: grid; grid-template-columns: 1.5fr 1fr; /* Trái to hơn */
            gap: 20px; align-items: start;
            height: 100%; overflow: hidden;
        }

        /* Window Style Chung */
        .window {
            background: var(--window-bg);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 20px;
            backdrop-filter: blur(20px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            display: flex; flex-direction: column;
        }

        /* LEFT: TERMINAL (Màu mè) */
        .term-window { height: 80%; margin-top: 5%; } /* Căn giữa dọc chút */
        .term-header { display: flex; gap: 8px; margin-bottom: 15px; }
        .win-btn { width: 10px; height: 10px; border-radius: 50%; }
        
        .cmd-line { margin-bottom: 20px; font-size: 14px; }
        .u-name { color: var(--c-green); font-weight: bold; }
        .at { color: var(--c-white); }
        .host { color: var(--c-blue); font-weight: bold; }
        .path { color: var(--c-cyan); font-weight: bold; }
        
        .cursor { display: inline-block; width: 8px; height: 16px; background: var(--text); animation: blink 1s infinite; }

        /* Fastfetch Layout */
        .fetch-box { display: none; gap: 20px; animation: fadeIn 0.5s ease; }
        .fetch-box.show { display: flex; }
        
        .ascii-logo { 
            color: var(--c-blue); font-weight: bold; 
            font-size: 12px; line-height: 12px; white-space: pre; 
        }

        .info-grid { display: flex; flex-direction: column; gap: 5px; font-size: 13px; }
        .i-row { display: flex; gap: 10px; }
        .i-key { color: var(--c-yellow); font-weight: bold; min-width: 60px; }
        .i-val { color: var(--text); }

        /* Dải màu sắc (Color Palette) */
        .color-palette { margin-top: 15px; display: flex; gap: 0; }
        .c-block { width: 15px; height: 15px; display: inline-block; }

        /* RIGHT: STACK (Wallpaper & Social) */
        .right-stack { display: flex; flex-direction: column; gap: 20px; margin-top: 5%; }

        /* 1. WALLPAPER SWITCHER (Cái này mới) */
        .bg-window { padding: 15px; }
        .section-title { color: var(--c-magenta); font-weight: bold; margin-bottom: 10px; font-size: 12px; text-transform: uppercase; letter-spacing: 1px; }
        
        .bg-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; }
        .bg-thumb {
            height: 60px; border-radius: 6px; cursor: pointer;
            border: 2px solid transparent; background-size: cover; background-position: center;
            transition: 0.2s; opacity: 0.7;
        }
        .bg-thumb:hover { opacity: 1; transform: scale(1.05); border-color: var(--c-cyan); }

        /* 2. SOCIAL LINKS */
        .social-window { padding: 15px; }
        .link-row { 
            display: flex; align-items: center; gap: 10px; padding: 10px; 
            border-radius: 6px; text-decoration: none; color: var(--text);
            transition: 0.2s;
        }
        .link-row:hover { background: rgba(255,255,255,0.05); color: var(--c-cyan); padding-left: 15px; }
        .s-icon { width: 20px; text-align: center; }

        @keyframes blink { 50% { opacity: 0; } }
        @keyframes fadeIn { from { opacity: 0; transform: translateX(-10px); } to { opacity: 1; transform: 0; } }
        
        /* Mobile */
        @media(max-width: 900px) {
            .main-grid { grid-template-columns: 1fr; height: auto; overflow-y: auto; }
            .fetch-box { flex-direction: column; text-align: left; }
            .term-window { margin-top: 0; height: auto; }
            .right-stack { margin-top: 0; }
        }
    </style>
</head>
<body>

    <div class="top-bar">
        <div class="bar-left">
            <div class="ws-dot active"></div>
            <div class="ws-dot"></div>
            <div class="ws-dot"></div>
        </div>

        <div class="bar-center">
            <span class="music-title" id="song-name">Choose a song...</span>
            <div class="music-ctrls">
                <button class="m-btn" onclick="prevTrack()"><i class="fa-solid fa-backward"></i></button>
                <button class="m-btn" onclick="togglePlay()"><i class="fa-solid fa-play" id="play-icon"></i></button>
                <button class="m-btn" onclick="nextTrack()"><i class="fa-solid fa-forward"></i></button>
            </div>
        </div>

        <div class="bar-right">
            <span style="color:var(--c-blue)">VOL 60%</span>
            <span class="clock" id="clock">10:00</span>
        </div>
    </div>

    <div class="main-grid">
        
        <div class="window term-window">
            <div class="term-header">
                <div class="win-btn" style="background:var(--c-red)"></div>
                <div class="win-btn" style="background:var(--c-yellow)"></div>
                <div class="win-btn" style="background:var(--c-green)"></div>
            </div>

            <div class="cmd-line">
                <span class="u-name">khiem</span><span class="at">@</span><span class="host">archlinux</span>
                <span class="path">~</span>
                <span>❯</span>
                <span id="typing"></span><span class="cursor" id="cursor"></span>
            </div>

            <div class="fetch-box" id="result">
                <div class="ascii-logo">
      /\
     /  \
    / /\ \
   / /  \ \
  / /    \ \
 / /      \ \
/_/        \_\
                </div>
                
                <div class="info-grid">
                    <div class="i-row"><span class="i-key">User</span> <span class="i-val">Phạm Anh Khiêm</span></div>
                    <div class="i-row"><span class="i-key">Host</span> <span class="i-val">VKU_Student</span></div>
                    <div class="i-row"><span class="i-key">OS</span> <span class="i-val">Arch Linux x86_64</span></div>
                    <div class="i-row"><span class="i-key">Kernel</span> <span class="i-val" style="color:var(--c-red)">6.8.9-zen</span></div>
                    <div class="i-row"><span class="i-key">Uptime</span> <span class="i-val" style="color:var(--c-green)">20 years</span></div>
                    <div class="i-row"><span class="i-key">Pkgs</span> <span class="i-val">1337 (pacman)</span></div>
                    <div class="i-row"><span class="i-key">Shell</span> <span class="i-val">zsh 5.9</span></div>
                    <div class="i-row"><span class="i-key">WM</span> <span class="i-val" style="color:var(--c-magenta)">Hyprland</span></div>
                    <div class="i-row"><span class="i-key">Theme</span> <span class="i-val">Tokyo_Night</span></div>
                    
                    <div class="color-palette">
                        <div class="c-block" style="background:var(--c-red)"></div>
                        <div class="c-block" style="background:var(--c-green)"></div>
                        <div class="c-block" style="background:var(--c-yellow)"></div>
                        <div class="c-block" style="background:var(--c-blue)"></div>
                        <div class="c-block" style="background:var(--c-magenta)"></div>
                        <div class="c-block" style="background:var(--c-cyan)"></div>
                        <div class="c-block" style="background:var(--c-white)"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="right-stack">
            
            <div class="window bg-window">
                <div class="section-title"><i class="fa-solid fa-image"></i> Wallpapers</div>
                <div class="bg-grid">
                    <div class="bg-thumb" onclick="setBg('https://images.unsplash.com/photo-1555680202-c86f0e12f086?q=80&w=1000')" style="background-image:url('https://images.unsplash.com/photo-1555680202-c86f0e12f086?q=80&w=200')"></div>
                    
                    <div class="bg-thumb" onclick="setBg('https://images.unsplash.com/photo-1614726365723-49faaa55909f?q=80&w=1000')" style="background-image:url('https://images.unsplash.com/photo-1614726365723-49faaa55909f?q=80&w=200')"></div>
                    
                    <div class="bg-thumb" onclick="setBg('https://images.unsplash.com/photo-1511512578047-dfb367046420?q=80&w=1000')" style="background-image:url('https://images.unsplash.com/photo-1511512578047-dfb367046420?q=80&w=200')"></div>
                </div>
            </div>

            <div class="window social-window">
                <div class="section-title"><i class="fa-solid fa-link"></i> Connections</div>
                <a href="https://github.com/drexx-cmd" target="_blank" class="link-row">
                    <i class="fa-brands fa-github s-icon"></i> <span>Github</span>
                </a>
                <a href="https://www.facebook.com/notkhizm/" target="_blank" class="link-row">
                    <i class="fa-brands fa-facebook s-icon"></i> <span>Facebook</span>
                </a>
                <a href="#" class="link-row">
                    <i class="fa-brands fa-discord s-icon"></i> <span>Discord</span>
                </a>
            </div>

        </div>
    </div>

    <audio id="audio"></audio>

    <script>
        // --- 1. WALLPAPER CHANGER ---
        function setBg(url) {
            document.body.style.backgroundImage = `url('${url}')`;
        }
        // Set mặc định ảnh đầu tiên (nếu cần)
        setBg('https://images.unsplash.com/photo-1555680202-c86f0e12f086?q=80&w=1000');

        // --- 2. TYPING EFFECT ---
        const cmd = "fastfetch";
        let i = 0;
        function typeWriter() {
            if (i < cmd.length) {
                document.getElementById("typing").innerHTML += cmd.charAt(i);
                i++;
                setTimeout(typeWriter, 100);
            } else {
                setTimeout(() => {
                    document.getElementById("result").classList.add("show");
                    document.getElementById("cursor").style.display = "none";
                }, 300);
            }
        }
        window.onload = () => { typeWriter(); updateTime(); };

        // --- 3. CLOCK ---
        function updateTime() {
            const now = new Date();
            document.getElementById("clock").innerText = now.toLocaleTimeString('en-GB', {hour:'2-digit', minute:'2-digit'});
        }
        setInterval(updateTime, 1000);

        // --- 4. MUSIC PLAYER ---
        const songs = [
            { name: "Lofi Coding Night", src: "https://cdn.pixabay.com/audio/2022/05/27/audio_1808fbf07a.mp3" },
            { name: "Cyberpunk City", src: "https://cdn.pixabay.com/audio/2022/03/15/audio_7368686256.mp3" }
        ];
        let idx = 0;
        const audio = document.getElementById("audio");
        const title = document.getElementById("song-name");
        const playIcon = document.getElementById("play-icon");

        function loadSong(index) {
            title.innerText = songs[index].name;
            audio.src = songs[index].src;
        }

        function togglePlay() {
            if (audio.paused) {
                audio.play();
                playIcon.className = "fa-solid fa-pause";
            } else {
                audio.pause();
                playIcon.className = "fa-solid fa-play";
            }
        }

        function nextTrack() {
            idx = (idx + 1) % songs.length;
            loadSong(idx);
            togglePlay();
        }
        
        function prevTrack() {
            idx = (idx - 1 + songs.length) % songs.length;
            loadSong(idx);
            togglePlay();
        }

        audio.addEventListener('ended', nextTrack);
        loadSong(0); // Init
    </script>
</body>
</html>
