<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>khiem@arch: ~</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">

    <style>
        /* --- THEME CATPPUCCIN MOCHA (ARCH STYLE) --- */
        :root {
            --bg: #1e1e2e;
            --surface: #313244;
            --text: #cdd6f4;
            --subtext: #a6adc8;
            --blue: #89b4fa;
            --lavender: #b4befe;
            --red: #f38ba8;
            --green: #a6e3a1;
            --yellow: #f9e2af;
            --overlay: rgba(30, 30, 46, 0.85);
        }

        body {
            margin: 0; padding: 0;
            width: 100vw; height: 100vh;
            background-color: var(--bg);
            /* Hình nền Abstract tối */
            background-image: url('https://w.wallhaven.cc/full/gp/wallhaven-gpzmzq.png');
            background-size: cover; background-position: center;
            font-family: 'JetBrains Mono', monospace;
            color: var(--text);
            display: flex; justify-content: center; align-items: center;
            overflow: hidden;
        }

        /* --- CỬA SỔ CHÍNH (Hyprland Style) --- */
        .window-container {
            width: 900px; height: 600px;
            background: var(--overlay);
            backdrop-filter: blur(10px); /* Kính mờ */
            border: 2px solid var(--blue); /* Viền sáng đặc trưng Arch rice */
            border-radius: 8px;
            box-shadow: 0 0 30px rgba(137, 180, 250, 0.2);
            display: flex; flex-direction: column;
            padding: 20px;
            overflow: hidden;
            animation: slideUp 0.6s cubic-bezier(0.16, 1, 0.3, 1);
        }

        /* Top Bar giả lập */
        .status-bar {
            display: flex; justify-content: space-between;
            border-bottom: 1px solid var(--surface);
            padding-bottom: 10px; margin-bottom: 20px;
            font-size: 14px; color: var(--subtext);
        }

        /* Nội dung Terminal */
        .terminal-body {
            flex-grow: 1;
            overflow-y: auto;
            scrollbar-width: none; /* Ẩn thanh cuộn */
        }
        .terminal-body::-webkit-scrollbar { display: none; }

        /* ASCII Art & Info Layout */
        .fetch-container {
            display: flex; gap: 40px; margin-bottom: 30px; align-items: flex-start;
        }

        .ascii-art {
            color: var(--blue);
            font-weight: bold;
            line-height: 1.2;
            white-space: pre;
            text-shadow: 0 0 10px rgba(137, 180, 250, 0.5);
        }

        .info-list { display: flex; flex-direction: column; gap: 5px; }
        .info-item { display: flex; gap: 10px; }
        .key { color: var(--red); font-weight: bold; min-width: 80px; }
        .val { color: var(--text); }

        /* Links Section */
        .links-section {
            margin-bottom: 20px;
            display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;
        }
        .link-item {
            text-decoration: none; color: var(--green);
            transition: 0.2s; display: inline-block;
        }
        .link-item:hover { color: var(--yellow); transform: translateX(5px); }
        .link-item::before { content: "-> "; color: var(--subtext); }

        /* --- PHẦN NHẬP CODE (Interactive) --- */
        .history { display: flex; flex-direction: column; gap: 5px; margin-bottom: 5px; }
        .output-line { color: var(--subtext); white-space: pre-wrap; }
        
        .input-line {
            display: flex; align-items: center; width: 100%;
        }
        .prompt { color: var(--blue); font-weight: bold; margin-right: 10px; }
        .prompt span { color: var(--text); } /* Dấu @ và : */
        
        /* Input tàng hình */
        #cmdInput {
            background: transparent; border: none; outline: none;
            color: var(--text); font-family: 'JetBrains Mono', monospace;
            font-size: 16px; flex-grow: 1; caret-color: var(--red);
        }

        /* --- MUSIC PLAYER (Minimalist) --- */
        .arch-player {
            position: fixed; bottom: 30px; right: 30px;
            background: var(--surface);
            border: 1px solid var(--lavender);
            padding: 10px 20px; border-radius: 4px;
            display: flex; align-items: center; gap: 15px;
            box-shadow: 5px 5px 0 var(--bg); /* Bóng cứng retro */
            z-index: 100; transition: 0.3s;
        }
        .arch-player:hover { transform: translateY(-5px); box-shadow: 5px 10px 0 var(--bg); }
        
        .player-info { display: flex; flex-direction: column; }
        .p-title { font-weight: bold; color: var(--lavender); font-size: 14px; }
        .p-artist { font-size: 12px; color: var(--subtext); }
        
        .p-controls button {
            background: none; border: none; color: var(--text);
            cursor: pointer; font-size: 16px; margin-left: 5px;
            transition: 0.2s;
        }
        .p-controls button:hover { color: var(--red); }

        /* Visualizer Mini */
        .mini-viz { display: flex; gap: 2px; height: 10px; align-items: flex-end; }
        .m-bar { width: 3px; background: var(--green); height: 2px; }
        .playing .m-bar { animation: dance 0.5s infinite alternate; }
        .playing .m-bar:nth-child(2) { animation-delay: 0.1s; }
        .playing .m-bar:nth-child(3) { animation-delay: 0.2s; }

        @keyframes dance { to { height: 100%; } }
        @keyframes slideUp { from { transform: translateY(50px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

        /* Responsive */
        @media (max-width: 768px) {
            .window-container { width: 95%; height: 90%; }
            .fetch-container { flex-direction: column; gap: 20px; align-items: center; }
            .ascii-art { font-size: 10px; }
        }
    </style>
</head>
<body>

    <div class="window-container" onclick="focusInput()">
        <div class="status-bar">
            <span>user: khiem</span>
            <span>workspace: 1</span>
            <span>battery: 12% (charging)</span>
            <span id="clock">00:00</span>
        </div>

        <div class="terminal-body" id="terminalBody">
            <div class="fetch-container" id="neofetchBlock">
                <div class="ascii-art">
       /\
      /  \
     / /\ \
    / /  \ \
   / /    \ \
  / /      \ \
 / /        \ \
/_/          \_\
                </div>
                
                <div class="info-list">
                    <div class="info-item"><span class="key">khiem</span><span class="val">@archlinux</span></div>
                    <div class="info-item"><span class="key">----------------</span><span class="val">--------</span></div>
                    <div class="info-item"><span class="key">OS</span><span class="val">Arch Linux x86_64</span></div>
                    <div class="info-item"><span class="key">Kernel</span><span class="val">6.6.9-arch-zen1</span></div>
                    <div class="info-item"><span class="key">Uptime</span><span class="val">20 years, 3 mins</span></div>
                    <div class="info-item"><span class="key">Shell</span><span class="val">zsh 5.9</span></div>
                    <div class="info-item"><span class="key">WM</span><span class="val">Hyprland</span></div>
                    <div class="info-item"><span class="key">Theme</span><span class="val">Catppuccin Mocha</span></div>
                    <div class="info-item"><span class="key">Terminal</span><span class="val">Alacritty</span></div>
                    <br>
                    <div class="info-item"><span class="key" style="color:var(--green)">Status</span><span class="val">Coding...</span></div>
                </div>
            </div>

            <div class="links-section" id="linksBlock">
                <a href="#" class="link-item">[DIR] resources/</a>
                <a href="#" class="link-item">[EXE] my_projects</a>
                <a href="https://github.com/drexx-cmd" target="_blank" class="link-item">[URL] github_repo</a>
                <a href="https://www.facebook.com/notkhizm/" target="_blank" class="link-item">[MSG] send_nudes.sh</a>
            </div>

            <div class="history" id="cmdHistory"></div>

            <div class="input-line">
                <span class="prompt">[khiem<span>@</span>arch ~]$</span>
                <input type="text" id="cmdInput" autocomplete="off" spellcheck="false" autofocus>
            </div>
        </div>
    </div>

    <div class="arch-player" id="player">
        <div class="mini-viz" id="viz">
            <div class="m-bar"></div><div class="m-bar"></div><div class="m-bar"></div>
        </div>
        <div class="player-info">
            <span class="p-title" id="trackName">WAITING...</span>
            <span class="p-artist" id="trackArtist">Select Tape</span>
        </div>
        <div class="p-controls">
            <button onclick="prevTrack()"><i class="fa-solid fa-backward"></i></button>
            <button onclick="togglePlay()"><i class="fa-solid fa-play" id="playIcon"></i></button>
            <button onclick="nextTrack()"><i class="fa-solid fa-forward"></i></button>
        </div>
    </div>

    <audio id="audioSource"></audio>

    <script>
        // --- ĐỒNG HỒ ---
        setInterval(() => {
            const now = new Date();
            document.getElementById('clock').innerText = now.toLocaleTimeString();
        }, 1000);

        // --- TERMINAL LOGIC (Cái này vui nè) ---
        const input = document.getElementById('cmdInput');
        const history = document.getElementById('cmdHistory');
        const terminalBody = document.getElementById('terminalBody');

        function focusInput() {
            input.focus();
        }

        input.addEventListener('keydown', function(e) {
            if (e.key === 'Enter') {
                const command = input.value.trim();
                
                // 1. In ra dòng lệnh vừa nhập
                const cmdLine = document.createElement('div');
                cmdLine.innerHTML = `<span style="color:#89b4fa; font-weight:bold;">[khiem<span style="color:#cdd6f4">@</span>arch ~]$</span> ${command}`;
                history.appendChild(cmdLine);

                // 2. Xử lý lệnh giả
                if (command !== "") {
                    const output = document.createElement('div');
                    output.className = 'output-line';
                    
                    switch(command.toLowerCase()) {
                        case 'help':
                            output.innerHTML = `Available commands: <span style="color:#a6e3a1">ls, clear, neofetch, whoami, reboot</span>`;
                            break;
                        case 'ls':
                            output.innerText = `resources/  my_projects  github_repo  send_nudes.sh`;
                            break;
                        case 'clear':
                            history.innerHTML = ""; // Xóa sạch lịch sử
                            document.getElementById('neofetchBlock').style.display = 'none'; // Giấu luôn intro
                            document.getElementById('linksBlock').style.display = 'none';
                            output.innerText = ""; // Không in gì thêm
                            break;
                        case 'neofetch':
                            document.getElementById('neofetchBlock').style.display = 'flex'; // Hiện lại intro
                            output.innerText = "";
                            break;
                        case 'whoami':
                            output.innerText = "root (just kidding, you are user)";
                            break;
                        case 'sudo':
                            output.innerText = "khiem is not in the sudoers file. This incident will be reported.";
                            break;
                        case 'reboot':
                            output.innerText = "Rebooting...";
                            setTimeout(() => location.reload(), 1000);
                            break;
                        default:
                            output.innerHTML = `<span style="color:#f38ba8">zsh: command not found: ${command}</span>`;
                    }
                    if(command !== 'clear') history.appendChild(output);
                }

                // 3. Reset input & Scroll xuống dưới cùng
                input.value = "";
                terminalBody.scrollTop = terminalBody.scrollHeight;
            }
        });

        // --- MUSIC PLAYER ---
        const playlist = [
            { title: "Arch Install Song", artist: "Hacker Man", src: "https://cdn.pixabay.com/audio/2022/03/15/audio_7368686256.mp3" },
            { title: "Lofi Coding", artist: "Chill Stream", src: "https://cdn.pixabay.com/audio/2022/05/27/audio_1808fbf07a.mp3" },
            { title: "Sudo Mode", artist: "Root User", src: "https://cdn.pixabay.com/audio/2024/01/16/audio_e2b992254f.mp3" }
        ];

        let currentIdx = 0;
        const audio = document.getElementById('audioSource');
        const playIcon = document.getElementById('playIcon');
        const trackName = document.getElementById('trackName');
        const trackArtist = document.getElementById('trackArtist');
        const playerDiv = document.getElementById('player');

        function loadTrack(idx) {
            trackName.innerText = playlist[idx].title;
            trackArtist.innerText = playlist[idx].artist;
            audio.src = playlist[idx].src;
        }

        function togglePlay() {
            if (audio.paused) {
                audio.play();
                playIcon.classList.replace('fa-play', 'fa-pause');
                playerDiv.classList.add('playing');
            } else {
                audio.pause();
                playIcon.classList.replace('fa-pause', 'fa-play');
                playerDiv.classList.remove('playing');
            }
        }

        function nextTrack() {
            currentIdx = (currentIdx + 1) % playlist.length;
            loadTrack(currentIdx);
            togglePlay();
        }
        function prevTrack() {
            currentIdx = (currentIdx - 1 + playlist.length) % playlist.length;
            loadTrack(currentIdx);
            togglePlay();
        }

        audio.addEventListener('ended', nextTrack);
        loadTrack(0);
        audio.volume = 0.4;
    </script>
</body>
</html>
